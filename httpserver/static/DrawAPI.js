function drawCannon(t,e=0,$=10,s=[0,0],i=1,o=20,g="mcannon",n="bang",r=FirePrt0,l=FireParticles0,a=BangPrt0,_=BangParticles0,C=CanPrt0,h=CanBangParticles0,c=5,f=5,I=0,S=0,p=[5,3],N=!0,d=!1,y=!0,R=2){if(PlayersData.get(t).CNs[e].STS<2?(ctx.fillStyle=MAPstatic.CT.o0,ctx.strokeStyle=MAPstatic.CT.o0):(ctx.fillStyle=MAPstatic.CT.o1,ctx.strokeStyle=MAPstatic.CT.o1,N&&l.push(new r(PlayersData.get(t).actX+(PlayersData.get(t).actX-PlayersData.get(t).prevX)*(Date.now()-LastPING)/PING+s[1]*I+s[0]*S,PlayersData.get(t).actY+(PlayersData.get(t).actY-PlayersData.get(t).prevY)*(Date.now()-LastPING)/PING+s[1]*S+-(s[0]*I),i))),((PlayersData.get(t).Z/2+"").substring(0,1)!=(Xmod?1:0)||d)&&(ctx.fillStyle="rgba(0,0,0,0.2)",ctx.strokeStyle="rgba(0,0,0,0.2)"),ctx.lineWidth=R/320*Zoom,ctx.lineJoin="miter",ctx.beginPath(),ctx.arc((PlayersData.get(t).actX+(PlayersData.get(t).actX-PlayersData.get(t).prevX-nX+X)*(Date.now()-LastPING)/PING-X)*Zoom+GameW/2+OffsetX+s[1]*I*Zoom+s[0]*Zoom*S,(PlayersData.get(t).actY+(PlayersData.get(t).actY-PlayersData.get(t).prevY-nY+Y)*(Date.now()-LastPING)/PING-Y)*Zoom+GameH/2+OffsetY+s[1]*S*Zoom+-(s[0]*I)*Zoom,$/320*Zoom,0,2*Math.PI),ctx.closePath(),y&&ctx.fill(),ctx.stroke(),(PlayersData.get(t).Z/2+"").substring(0,1)!=(Xmod?1:0)||d||(ctx.strokeStyle=MAPstatic.CT.os,ctx.stroke()),sinc=0,cosc=0,PlayersData.get(t).CNs[e].pDIR<360&&PlayersData.get(t).CNs[e].pDIR>270&&PlayersData.get(t).CNs[e].DIR<90&&PlayersData.get(t).CNs[e].DIR>-1?(sinc=Math.sin(((Date.now()-LastPING)/PING*(PlayersData.get(t).CNs[e].DIR-PlayersData.get(t).CNs[e].pDIR+360)+PlayersData.get(t).CNs[e].pDIR)/180*Math.PI),cosc=Math.cos(((Date.now()-LastPING)/PING*(PlayersData.get(t).CNs[e].DIR-PlayersData.get(t).CNs[e].pDIR+360)+PlayersData.get(t).CNs[e].pDIR)/180*Math.PI)):PlayersData.get(t).CNs[e].DIR<360&&PlayersData.get(t).CNs[e].DIR>270&&PlayersData.get(t).CNs[e].pDIR<90&&PlayersData.get(t).CNs[e].pDIR>-1?(sinc=Math.sin(((Date.now()-LastPING)/PING*(PlayersData.get(t).CNs[e].DIR-PlayersData.get(t).CNs[e].pDIR-360)+PlayersData.get(t).CNs[e].pDIR)/180*Math.PI),cosc=Math.cos(((Date.now()-LastPING)/PING*(PlayersData.get(t).CNs[e].DIR-PlayersData.get(t).CNs[e].pDIR-360)+PlayersData.get(t).CNs[e].pDIR)/180*Math.PI)):(sinc=Math.sin(((Date.now()-LastPING)/PING*(PlayersData.get(t).CNs[e].DIR-PlayersData.get(t).CNs[e].pDIR)+PlayersData.get(t).CNs[e].pDIR)/180*Math.PI),cosc=Math.cos(((Date.now()-LastPING)/PING*(PlayersData.get(t).CNs[e].DIR-PlayersData.get(t).CNs[e].pDIR)+PlayersData.get(t).CNs[e].pDIR)/180*Math.PI)),ctx.beginPath(),ctx.moveTo((PlayersData.get(t).actX+(PlayersData.get(t).actX-PlayersData.get(t).prevX-nX+X)*(Date.now()-LastPING)/PING-X)*Zoom+GameW/2+OffsetX+s[1]*I*Zoom+s[0]*Zoom*S,(PlayersData.get(t).actY+(PlayersData.get(t).actY-PlayersData.get(t).prevY-nY+Y)*(Date.now()-LastPING)/PING-Y)*Zoom+GameH/2+s[1]*S*Zoom+-(s[0]*I)*Zoom+OffsetY),ctx.lineTo((PlayersData.get(t).actX+(PlayersData.get(t).actX-PlayersData.get(t).prevX-nX+X)*(Date.now()-LastPING)/PING-X)*Zoom+GameW/2+OffsetX+s[1]*I*Zoom+s[0]*Zoom*S+cosc*o/320*Zoom,(PlayersData.get(t).actY+(PlayersData.get(t).actY-PlayersData.get(t).prevY-nY+Y)*(Date.now()-LastPING)/PING-Y)*Zoom+GameH/2+OffsetY+s[1]*S*Zoom+-(s[0]*I)*Zoom+sinc*o/320*Zoom),ctx.closePath(),PlayersData.get(t).CNs[e].STS<2){if(ctx.strokeStyle=MAPstatic.CT.l0,1==PlayersData.get(t).CNs[e].STS){for(let D=0;D<c;D++)h.push(new C(PlayersData.get(t).actX+(PlayersData.get(t).actX-PlayersData.get(t).prevX)*(Date.now()-LastPING)/PING+s[1]*I+s[0]*S+cosc*o/320,PlayersData.get(t).actY+(PlayersData.get(t).actY-PlayersData.get(t).prevY)*(Date.now()-LastPING)/PING+s[1]*S+-(s[0]*I)+sinc*o/320));PIXI.sound.play(g),PlayersData.get(t).CNs[e].STS=0}}else{if(3==PlayersData.get(t).CNs[e].STS){PIXI.sound.play(n);for(let P=0;P<f;P++)_.push(new a(PlayersData.get(t).actX+(PlayersData.get(t).actX-PlayersData.get(t).prevX)*(Date.now()-LastPING)/PING+s[1]*I+s[0]*S,PlayersData.get(t).actY+(PlayersData.get(t).actY-PlayersData.get(t).prevY)*(Date.now()-LastPING)/PING+s[1]*S+-(s[0]*I)));PlayersData.get(t).CNs[e].STS=2}ctx.strokeStyle=MAPstatic.CT.l1}((PlayersData.get(t).Z/2+"").substring(0,1)!=(Xmod?1:0)||d)&&(ctx.fillStyle="rgba(0,0,0,0.2)",ctx.strokeStyle="rgba(0,0,0,0.2)"),ctx.lineCap="square",ctx.lineWidth=p[0]/320*Zoom,ctx.stroke(),PlayersData.get(t).CNs[e].STS<2?ctx.strokeStyle=MAPstatic.CT.o0:ctx.strokeStyle=MAPstatic.CT.o1,((PlayersData.get(t).Z/2+"").substring(0,1)!=(Xmod?1:0)||d)&&(ctx.fillStyle="rgba(0,0,0,0.2)",ctx.strokeStyle="rgba(0,0,0,0.2)"),ctx.lineWidth=p[1]/320*Zoom,ctx.stroke()}function PdrawCannon(t,e=0,$=10,s=[0,0],i=1,o=20,g="mcannon",n="bang",r=FirePrt0,l=FireParticles0,a=BangPrt0,_=BangParticles0,C=CanPrt0,h=CanBangParticles0,c=5,f=5,I=0,S=0,p=[5,3],N=!0,d=!1,y=!0,R=2){if(ctx.lineJoin="miter",ctx.beginPath(),PlayersData.get(t).CNs[e].STS<2?(ctx.fillStyle=MAPstatic.CT.o0,ctx.strokeStyle=MAPstatic.CT.o0):(ctx.fillStyle=MAPstatic.CT.o1,ctx.strokeStyle=MAPstatic.CT.o1,N&&l.push(new r(X+(nX-X)*(Date.now()-LastPING)/PING+s[1]*I+s[0]*S,Y+(nY-Y)*(Date.now()-LastPING)/PING+s[1]*S+-(s[0]*I),i))),d&&(ctx.fillStyle="rgba(0,0,0,0.2)",ctx.strokeStyle="rgba(0,0,0,0.2)"),ctx.lineWidth=R/320*Zoom,ctx.arc(GameW/2+OffsetX+s[1]*I*Zoom+s[0]*Zoom*S,GameH/2+OffsetY+s[1]*S*Zoom+-(s[0]*I)*Zoom,$/320*Zoom,0,2*Math.PI),ctx.closePath(),y&&ctx.fill(),ctx.stroke(),ctx.strokeStyle=MAPstatic.CT.os,ctx.stroke(),sinc=0,cosc=0,PlayersData.get(t).CNs[e].pDIR<360&&PlayersData.get(t).CNs[e].pDIR>270&&PlayersData.get(t).CNs[e].DIR<90&&PlayersData.get(t).CNs[e].DIR>-1?(sinc=Math.sin(((Date.now()-LastPING)/PING*(PlayersData.get(t).CNs[e].DIR-PlayersData.get(t).CNs[e].pDIR+360)+PlayersData.get(t).CNs[e].pDIR)/180*Math.PI),cosc=Math.cos(((Date.now()-LastPING)/PING*(PlayersData.get(t).CNs[e].DIR-PlayersData.get(t).CNs[e].pDIR+360)+PlayersData.get(t).CNs[e].pDIR)/180*Math.PI)):PlayersData.get(t).CNs[e].DIR<360&&PlayersData.get(t).CNs[e].DIR>270&&PlayersData.get(t).CNs[e].pDIR<90&&PlayersData.get(t).CNs[e].pDIR>-1?(sinc=Math.sin(((Date.now()-LastPING)/PING*(PlayersData.get(t).CNs[e].DIR-PlayersData.get(t).CNs[e].pDIR-360)+PlayersData.get(t).CNs[e].pDIR)/180*Math.PI),cosc=Math.cos(((Date.now()-LastPING)/PING*(PlayersData.get(t).CNs[e].DIR-PlayersData.get(t).CNs[e].pDIR-360)+PlayersData.get(t).CNs[e].pDIR)/180*Math.PI)):(sinc=Math.sin(((Date.now()-LastPING)/PING*(PlayersData.get(t).CNs[e].DIR-PlayersData.get(t).CNs[e].pDIR)+PlayersData.get(t).CNs[e].pDIR)/180*Math.PI),cosc=Math.cos(((Date.now()-LastPING)/PING*(PlayersData.get(t).CNs[e].DIR-PlayersData.get(t).CNs[e].pDIR)+PlayersData.get(t).CNs[e].pDIR)/180*Math.PI)),ctx.beginPath(),ctx.moveTo(GameW/2+OffsetX+s[1]*I*Zoom+s[0]*Zoom*S,GameH/2+s[1]*S*Zoom+-(s[0]*I)*Zoom+OffsetY),ctx.lineTo(GameW/2+OffsetX+s[1]*I*Zoom+s[0]*Zoom*S+cosc*o/320*Zoom,GameH/2+OffsetY+s[1]*S*Zoom+-(s[0]*I)*Zoom+sinc*o/320*Zoom),ctx.closePath(),PlayersData.get(t).CNs[e].STS<2){if(ctx.strokeStyle=MAPstatic.CT.l0,1==PlayersData.get(t).CNs[e].STS){for(let D=0;D<c;D++)h.push(new C(X+(nX-X)*(Date.now()-LastPING)/PING+s[1]*I+s[0]*S+cosc*o/320,Y+(nY-Y)*(Date.now()-LastPING)/PING+s[1]*S+-(s[0]*I)+sinc*o/320));PIXI.sound.play(g),PlayersData.get(t).CNs[e].STS=0}}else{if(3==PlayersData.get(t).CNs[e].STS){PIXI.sound.play(n);for(let P=0;P<5;P++)_.push(new a(X+(nX-X)*(Date.now()-LastPING)/PING+s[1]*I+s[0]*S,Y+(nY-Y)*(Date.now()-LastPING)/PING+s[1]*S+-(s[0]*I)));PlayersData.get(t).CNs[e].STS=2}ctx.strokeStyle=MAPstatic.CT.l1}d&&(ctx.fillStyle="rgba(0,0,0,0.2)",ctx.strokeStyle="rgba(0,0,0,0.2)"),ctx.lineCap="square",ctx.lineWidth=p[0]/320*Zoom,ctx.stroke(),PlayersData.get(t).CNs[e].STS<2?ctx.strokeStyle=MAPstatic.CT.o0:ctx.strokeStyle=MAPstatic.CT.o1,ctx.lineWidth=p[1]/320*Zoom,d&&(ctx.fillStyle="rgba(0,0,0,0.2)",ctx.strokeStyle="rgba(0,0,0,0.2)"),ctx.stroke()}function drawF(t,e=[[0,0],[0,0]],$=0,s=0,i={}){ctx.beginPath(),void 0!=i[PlayersData.get(t).COLOR]?ctx.fillStyle=i[PlayersData.get(t).COLOR]:ctx.fillStyle="#fff",ctx.strokeStyle=MAPstatic.CT.fs,(PlayersData.get(t).Z/2+"").substring(0,1)!=(Xmod?1:0)&&(ctx.fillStyle="rgba(0,0,0,0.2)",ctx.strokeStyle="rgba(0,0,0,0.2)"),ctx.moveTo((PlayersData.get(t).actX+(PlayersData.get(t).actX-PlayersData.get(t).prevX-nX+X)*(Date.now()-LastPING)/PING-X)*Zoom+GameW/2+OffsetX+e[0][1]*Zoom*$+e[0][0]*Zoom*s,(PlayersData.get(t).actY+(PlayersData.get(t).actY-PlayersData.get(t).prevY-nY+Y)*(Date.now()-LastPING)/PING-Y)*Zoom+GameH/2+OffsetY+e[0][1]*s*Zoom+-(e[0][0]*$)*Zoom);for(let o=1;o<e.length;o+=1)ctx.lineTo((PlayersData.get(t).actX+(PlayersData.get(t).actX-PlayersData.get(t).prevX-nX+X)*(Date.now()-LastPING)/PING-X)*Zoom+GameW/2+OffsetX+e[o][1]*$*Zoom+e[o][0]*Zoom*s,(PlayersData.get(t).actY+(PlayersData.get(t).actY-PlayersData.get(t).prevY-nY+Y)*(Date.now()-LastPING)/PING-Y)*Zoom+GameH/2+OffsetY+e[o][1]*s*Zoom+-(e[o][0]*$)*Zoom);ctx.lineTo((PlayersData.get(t).actX+(PlayersData.get(t).actX-PlayersData.get(t).prevX-nX+X)*(Date.now()-LastPING)/PING-X)*Zoom+GameW/2+OffsetX+e[0][1]*$*Zoom+e[0][0]*Zoom*s,(PlayersData.get(t).actY+(PlayersData.get(t).actY-PlayersData.get(t).prevY-nY+Y)*(Date.now()-LastPING)/PING-Y)*Zoom+GameH/2+OffsetY+e[0][1]*s*Zoom+-(e[0][0]*$)*Zoom),ctx.closePath(),ctx.lineWidth=2/320*Zoom,ctx.fill(),ctx.stroke()}function PdrawF(t,e=[[0,0],[0,0]],$=0,s=0,i={}){ctx.beginPath(),void 0!=i[PlayersData.get(t).COLOR]?ctx.fillStyle=i[PlayersData.get(t).COLOR]:ctx.fillStyle="#fff",ctx.strokeStyle=MAPstatic.CT.fs,ctx.moveTo(GameW/2+OffsetX+e[0][1]*Zoom*$+e[0][0]*Zoom*s,GameH/2+OffsetY+e[0][1]*s*Zoom+-(e[0][0]*$)*Zoom);for(let o=1;o<e.length;o+=1)ctx.lineTo(GameW/2+OffsetX+e[o][1]*$*Zoom+e[o][0]*Zoom*s,GameH/2+OffsetY+e[o][1]*s*Zoom+-(e[o][0]*$)*Zoom);ctx.lineTo(GameW/2+OffsetX+e[0][1]*$*Zoom+e[0][0]*Zoom*s,GameH/2+OffsetY+e[0][1]*s*Zoom+-(e[0][0]*$)*Zoom),ctx.closePath(),ctx.lineWidth=2/320*Zoom,ctx.fill(),ctx.stroke()}function DrawNickname(t,e,$,s,i){if(!cameraMode){var o=NoTeamTag(PlayerName);PlayerTags.get(o)==PlayerTags.get(t)&&null!=PlayerTags.get(o)?ctx.fillStyle="rgba(0,0,255,0.75)":ctx.fillStyle="rgba(255,0,0,0.75)",ctx.strokeStyle="rgba(0,0,0,0.5)",ctx.lineWidth=1,ctx.textAlign="center",ctx.font=Math.round(.0625*Zoom)+"px Arial",null!=PlayerTags.get(t)?ctx.fillText("["+PlayerTags.get(t)+"]"+t,s,i-50/320*Zoom):ctx.fillText(t,s,i-50/320*Zoom),ctx.fillStyle="rgba("+255*(1-e/$)+","+255*(e/$)+",0,0.75)",ctx.fillRect(s-37/320*Zoom,i-45/320*Zoom,75*(e/$)/320*Zoom,7/320*Zoom),ctx.strokeRect(s-37/320*Zoom,i-45/320*Zoom,75/320*Zoom,7/320*Zoom)}}function BangPrt0(t,e,$=2*Math.random()*Math.PI){this.x=t,this.y=e,this.life=1,this.dir=2*Math.random()*Math.PI,this.xs=Math.cos($),this.ys=Math.sin($),this.rad=1}function CanPrt0(t,e,$=2*Math.random()*Math.PI){this.x=t,this.y=e,this.life=1,this.xs=Math.cos($),this.ys=Math.sin($),this.rad=1}function WtrPrt0(t,e){this.x=t,this.y=e,this.life=1,this.rad=Math.random()+1}function RcktTPrt0(t,e){this.x=t,this.y=e,this.life=1,this.rad=Math.random()+.25}function Particle0(t,e,$,s,i){this.x=t,this.y=e,this.xs=$,this.ys=s,this.life=1.5,this.rad=i}function TrcrPrt1(t,e,$,s,i=1){this.x=t,this.y=e,this.life=1,this.cl=i,this.x1=$,this.y1=s}function FirePrt0(t,e,$=1){this.x=t,this.y=e,this.deg=2*Math.random()*Math.PI,this.dir=2*Math.random()*Math.PI,this.life=60,this.dirspd=0,this.cof=.5+Math.random(),this.speed=.25+.25*Math.random(),this.rad=(5+5*Math.random())*$}function Particle1(t,e,$,s,i){this.x=t,this.y=e,this.deg=$,this.life=1.5,this.speed=s,this.rad=i}function Particle2(t,e){this.x=Math.random()*t,this.y=Math.random()*e,this.r=8-Math.floor(2*Math.sqrt(Math.sqrt(256*Math.random()))),this.d=1+.25*Math.random(),this.ra=Math.random()*Math.PI*2,this.as=-.1+.2*Math.random()}function Particle3(t){this.id=t,this.hp=500+500*Math.random(),this.cl=64*Math.random()+191,this.h=Math.random(),this.dir=(2*Math.random()-1)*Math.PI,this.spd=2*Math.random()-1}function Particle4(){this.x=Math.random()*(GameW+500)-250,this.y=Math.random()*(GameH+500)-250,this.dir=360*Math.random(),this.life=.01}